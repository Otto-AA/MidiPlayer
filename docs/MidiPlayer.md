<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [MidiPlayer](#midiplayer)
    -   [loadFromDataUrl](#loadfromdataurl)
    -   [loadFromUint8Array](#loadfromuint8array)
    -   [loadFromRelativeUrl](#loadfromrelativeurl)
    -   [loadParsedMidi](#loadparsedmidi)
    -   [addCallback](#addcallback)
    -   [addCustomCallback](#addcustomcallback)
    -   [play](#play)
    -   [pause](#pause)
    -   [stop](#stop)
    -   [reset](#reset)
    -   [setTime](#settime)
    -   [getCurrentTime](#getcurrenttime)
    -   [setSpeed](#setspeed)
    -   [getCurrentSpeed](#getcurrentspeed)
    -   [isPlaying](#isplaying)
    -   [getDuration](#getduration)
    -   [getMidiEvents](#getmidievents)
    -   [getNextEventsByTime](#getnexteventsbytime)
    -   [getPreviousEventsByTime](#getpreviouseventsbytime)
    -   [getEventsByTimeRange](#geteventsbytimerange)
    -   [triggerCallbacks](#triggercallbacks)
    -   [removeCallbacks](#removecallbacks)
    -   [addEvent](#addevent)
    -   [removeEvents](#removeevents)
    -   [reverseMidiData](#reversemididata)
    
## MidiPlayer

**Properties**

-   `channel` **int** 
-   `note` **int** 
-   `length` **(float | [undefined](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined))** 
-   `timestamp` **float** 
-   `track` **int** 
-   `type` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `velocity` **(int | [undefined](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined))** 

### loadFromDataUrl

**Parameters**

-   `midi` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** b64 encoded midi file
-   `noteShift` **int** changes the note value of each element by n. (e.g. for a piano this should be -21) (optional, default `0`)

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;noteEvent>>** resolving with an array containing the formatted event

### loadFromUint8Array

**Parameters**

-   `midi` **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** uint8 array representing midi file
-   `noteShift` **int** changes the note value of each element by n. (e.g. for a piano this should be -21) (optional, default `0`)

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;noteEvent>>** resolving with an array containing the formatted events

### loadFromRelativeUrl

**Parameters**

-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** a relative url to the .mid file (e.g. ./data/test.mid)
-   `noteShift` **int** changes the note value of each element by n. (e.g. for a piano this should be -21) (optional, default `0`)

**Examples**

_Example for loading piano midi data_

```javascript
player.loadFromRelativeUrl('./data/test.mid', -21)
 .then(function(midiData) { console.log(midiData); })
 .catch(function(error) { console.log(error); });
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;noteEvent>>** resolving with an array containing the formatted events

### loadParsedMidi

**Parameters**

-   `events` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;noteEvent>** array containing all formatted events
-   `noteShift` **int** changes the note value of each element by n. (e.g. for a piano this should be -21) (optional, default `0`)

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;noteEvent>** 

### addCallback

Add an event listener

**Parameters**

-   `eventName` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** specifies the trigger event name. Possible events are: start, finish, noteOn, noteOff
-   `callback` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** 

**Examples**

_Example showing how to listen to noteOn events_

```javascript
player.addCallback('noteOn', function(event) { console.log(event); });
```

### addCustomCallback

Add an event listener to a specific event

**Parameters**

-   `targetEvent` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `callback` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** 

**Examples**

_Example showing how to listen to noteOn events with the note 40_

```javascript
player.addCustomCallback({
  type: 'noteOn',
  note: 40
}, function(event) { console.log(event); });
```

### play

start playing the parsed midi from the current time

### pause

pauses the playing at the current time

### stop

pauses the playing and sets the current time to zero

### reset

stops the player and removes all events

### setTime

**Parameters**

-   `miliseconds` **int** 

### getCurrentTime

Returns **int** current time in miliseconds

### setSpeed

**Parameters**

-   `speed` **int** relative speed (1 is normal, 2 is double, 0.5 is half)

### getCurrentSpeed

Returns **int** current relative speed

### isPlaying

Returns **bool** 

### getDuration

Returns **float** duration of the midi in miliseconds

### getMidiEvents

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;noteEvent>** (all loaded events)

### getNextEventsByTime

get all events which are in the range [currentTime <= event.timestamp <= currentTime + miliseconds]

**Parameters**

-   `miliseconds` **int** specifies the end of the time range

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;noteEvent>** 

### getPreviousEventsByTime

get all events which are in the range [currentTime - miliseconds <= event.timestamp <= currentTime]

**Parameters**

-   `miliseconds` **int** specifies the start of the time range

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;noteEvent>** containing all events which are in the range [currentTime - miliseconds <-> currentTime]

### getEventsByTimeRange

get all events which are in the range [startTime <= event.timestamp <= endTime]

**Parameters**

-   `startTime` **int** start of the time range in miliseconds
-   `endTime` **int** end of the time range in miliseconds

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;noteEvent>** containing all events which are in the time range

### triggerCallbacks

**Parameters**

-   `event` **([string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) \| [object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object))** string -> type which will be triggered | object -> event which will be triggered

**Examples**

_Example showing how to trigger play_

```javascript
player.triggerCallbacks('play');   // Same as player.triggerCallbacks({type: 'play'});
```

_Example showing how to trigger a specific noteEvent_

```javascript
player.triggerCallbacks({type: 'noteOn', note: 40, timestamp: 500, length: 50});
```

### removeCallbacks

Remove all callbacks attached to the player

### addEvent

**Parameters**

-   `newEvent` **noteEvent** must contain: timestamp, note, type [, optional properties]

**Examples**

```javascript
player.addEvent({timestamp: 5000, note: 40, type: 'noteOn', length: 75, customPropOne: 'abc', customPropTwo: 'de'});
```

### removeEvents

removes all events which have the same keys and properties as the search

**Parameters**

-   `search` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** e.g. {note: 40, type: 'noteOff'} or {timestamp: 500}

**Examples**

_Example showing how to delete all noteOff events with the note 40_

```javascript
player.removeEvents({note: 40, type: 'noteOff'});
```

_Example showing how to delete all events_

```javascript
player.removeEvents({});
```

### reverseMidiData

Reverse midi data so that playing afterwards will play the song backwards, but currentTime will still start from zero (and not from the end). (Not the same as reversing the order)